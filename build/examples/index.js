import { __awaiter } from "tslib";
import axios from 'axios';
import { v1 as uuidV1 } from 'uuid';
// import { ENV } from '../common/config';
import { getMessenger } from '../index';
import { localStg } from '../utils';
const baseURL = 'http://localhost:7000';
const localUid = localStg.get('uid');
const uid = localUid ? localUid : uuidV1();
localStg.set('uid', uid);
const chatId = '66b9a4edf5a564cae64892c3'; // ! rm
// let languageGetter = () => 'Uz-Latin';
// let appVersion = '1.0.0';
// const requiredHeaders = {
//   'x-device-type': 'web',
//   'x-device-model': ENV.isBrowser
//     ? `${navigator.userAgent} | ${navigator.platform}`
//     : ENV.isNode
//     ? `${process.platform} | ${process.arch} | Nodejs: ${process.version}`
//     : 'Unknown', // dynamically fetching device model info
//   'x-app-lang': languageGetter() || 'Uz-Latin', // dynamically fetching language info
//   'x-app-version': appVersion,
//   'x-app-uid': uid,
// };
const apiKey = 'qalqon';
const apiHash = '66b3576d917425b29a3e3644';
const messenger = getMessenger({
    baseURL,
    apiKey,
    apiHash,
    languageGetter() {
        return 'Uz-Latin';
    },
    token: () => __awaiter(void 0, void 0, void 0, function* () {
        const token = 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoyMDA5LCJ1c2VybmFtZSI6IlVtYXJiZWsiLCJmdWxsX25hbWUiOiJBS0JBUk9WIFVNQVIiLCJwaG9uZV9udW1iZXIiOiIrOTk4OTQ1NDM0NTY3IiwiZ3JvdXAiOnsiaWQiOjIsIm5hbWUiOiJBZG1pbiIsImFjY2Vzc2VzIjpbM119LCJvcmdhbml6YXRpb25faWQiOm51bGwsInNlcnZpY2VzIjpbeyJpZCI6MiwibmFtZSI6Im50ZmFjZSIsInN0YXR1cyI6dHJ1ZX0seyJpZCI6NiwibmFtZSI6InhhdGxvdiIsInN0YXR1cyI6dHJ1ZX0seyJpZCI6MTQsIm5hbWUiOiJlbWVobW9uIiwic3RhdHVzIjp0cnVlfSx7ImlkIjoxNiwibmFtZSI6ImF1dG8tdHJhbnNwb3J0Iiwic3RhdHVzIjp0cnVlfSx7ImlkIjoxOCwibmFtZSI6ImFjY2lkZW50cyIsInN0YXR1cyI6dHJ1ZX0seyJpZCI6MjAsIm5hbWUiOiJkaGEiLCJzdGF0dXMiOnRydWV9LHsiaWQiOjIxLCJuYW1lIjoiZm9ybWExIiwic3RhdHVzIjp0cnVlfSx7ImlkIjoyMiwibmFtZSI6Iml2c3MtbWFuYWdlciIsInN0YXR1cyI6dHJ1ZX0seyJpZCI6MjcsIm5hbWUiOiJxdWljay1zZWFyY2giLCJzdGF0dXMiOnRydWV9LHsiaWQiOjI5LCJuYW1lIjoiY2FtZXJhIiwic3RhdHVzIjp0cnVlfSx7ImlkIjozMCwibmFtZSI6ImZ2diIsInN0YXR1cyI6dHJ1ZX0seyJpZCI6MzEsIm5hbWUiOiJncHMiLCJzdGF0dXMiOnRydWV9LHsiaWQiOjMyLCJuYW1lIjoic2F5bG92Iiwic3RhdHVzIjp0cnVlfSx7ImlkIjozNCwibmFtZSI6Imxpc3RlZC1wZW9wbGUiLCJzdGF0dXMiOnRydWV9LHsiaWQiOjM2LCJuYW1lIjoidGFkYmlyIiwic3RhdHVzIjp0cnVlfSx7ImlkIjozOCwibmFtZSI6Im10cCIsInN0YXR1cyI6dHJ1ZX0seyJpZCI6NDAsIm5hbWUiOiJjcmltZSIsInN0YXR1cyI6dHJ1ZX0seyJpZCI6NDEsIm5hbWUiOiJjYXIiLCJzdGF0dXMiOnRydWV9LHsiaWQiOjQyLCJuYW1lIjoib3BnIiwic3RhdHVzIjp0cnVlfSx7ImlkIjo0MywibmFtZSI6Im1pYiIsInN0YXR1cyI6dHJ1ZX0seyJpZCI6NDQsIm5hbWUiOiJzZXJ2aWNlIiwic3RhdHVzIjp0cnVlfSx7ImlkIjo0NSwibmFtZSI6Im5vdGlmaWNhdGlvbnMiLCJzdGF0dXMiOnRydWV9LHsiaWQiOjQ2LCJuYW1lIjoidGVlbmFnZXJzIiwic3RhdHVzIjp0cnVlfSx7ImlkIjo0NywibmFtZSI6ImJ1cy1wYXJraW5nIiwic3RhdHVzIjp0cnVlfSx7ImlkIjo0OCwibmFtZSI6ImRldGVjdG9yIiwic3RhdHVzIjp0cnVlfSx7ImlkIjo0OSwibmFtZSI6ImFkZC1jYW1lcmEiLCJzdGF0dXMiOnRydWV9LHsiaWQiOjUwLCJuYW1lIjoiaXZzcy1jb250cm9sIiwic3RhdHVzIjp0cnVlfSx7ImlkIjo1MSwibmFtZSI6IjV0YXNoYWJidXMiLCJzdGF0dXMiOnRydWV9LHsiaWQiOjUyLCJuYW1lIjoibG9nZ2VyIiwic3RhdHVzIjp0cnVlfSx7ImlkIjo1MywibmFtZSI6InNjbyIsInN0YXR1cyI6dHJ1ZX0seyJpZCI6NTQsIm5hbWUiOiJsYW5ndWFnZSIsInN0YXR1cyI6dHJ1ZX0seyJpZCI6NTUsIm5hbWUiOiJzdXBlcnZpc29yIiwic3RhdHVzIjp0cnVlfSx7ImlkIjo1NywibmFtZSI6Im15LWluc3BlY3RvciIsInN0YXR1cyI6dHJ1ZX0seyJpZCI6NTksIm5hbWUiOiJib2R5LWNhbWVyYSIsInN0YXR1cyI6dHJ1ZX0seyJpZCI6NjAsIm5hbWUiOiJlbWlncmFudCIsInN0YXR1cyI6dHJ1ZX1dLCJkaXN0cmljdElkIjpudWxsLCJoYXNoIjoiMGYxNThjNmEzMTQ5ZGIyZGYzODU5ZjcyNWRmYzljY2UifSwiaWF0IjoxNzIzNjMwMTczLCJleHAiOjE3MjM3MTY1NzN9.dcURCsNHT2m7ssCe1xyxFFf6ydXFft3qSEk37Fb2KFE';
        const { data } = yield axios.get(`${baseURL}/v1/auth/me-from?token=${token}`, {
            headers: {
                Authorization: `Basic ${btoa(`${apiKey}:${apiHash}`)}`,
            },
        });
        return {
            access: data.data.token.accessToken,
            refresh: data.data.token.refreshToken,
        };
        // const res = await axios.post(
        //   `${baseURL}/v1/auth/login`,
        //   {
        //     username: 'Umarkhan', // Adhamjon, Umarkhan
        //     password: '123',
        //   },
        //   {
        //     headers: requiredHeaders,
        //   },
        // );
        // return {
        //   access: res.data.data.token.accessToken,
        //   refresh: res.data.data.token.refreshToken,
        // };
    }),
    polling: { interval: 5000, limit: 100 },
});
console.log('Success started');
messenger
    .on('connect', (...args) => {
    console.log('connected', args);
})
    .on('reconnect_attempt', (...args) => {
    console.log('reconnect_attempt', args);
})
    .on('reconnect', (...args) => {
    console.log('reconnect', args);
})
    .on('disconnect', (reason, details) => {
    console.log('disconnect', reason);
})
    .on('pong', () => {
    console.log('pong');
})
    .on('update', (data) => {
    console.log(data._id, 'update');
})
    .on('chatAction', (action) => {
    console.log(action, 'chatAction');
});
const getRadomNumber = (from, to) => from + Math.round(Math.random() * (to - from));
setInterval(() => __awaiter(void 0, void 0, void 0, function* () {
    let message;
    const random = getRadomNumber(0, 100);
    // const random = 3;
    if (random % 2 === 0) {
        message = {
            messageType: 'text',
            to: { chatType: 'private', chatId: chatId },
            text: `Test xabar ${Math.random() * 100}. Time: ${new Date().toISOString()}`,
        };
    }
    else {
        const wanted = {
            type: 'user',
            title: 'MVD-Qidiruv',
            user: {
                firstName: 'Qumriniso',
                image: 'http://localhost:3000/v1/files/profile_photos/d1df88dc-62b6-4ba7-9a5f-9669be9040a3.JPEG',
                // fullImage: 'http://localhost:3000/v1/files/profile_photos/d1df88dc-62b6-4ba7-9a5f-9669be9040a3.JPEG',
                lastName: 'Qambarov',
                middleName: 'Qulmiddin qizi',
                fullName: 'Qambarov Qumriniso Qulmiddin qizi',
                pAddress: 'Qashqadaryo Viloyat, Kitob Tuman, Qashqir qishloq',
                passport: 'AA8432720',
                birthDate: '19.05.1981',
            },
            car: {
                carImage: 'http://localhost:3000/v1/files/profile_photos/d1df88dc-62b6-4ba7-9a5f-9669be9040a3.JPEG',
                carNumber: '01O010OO',
            },
            images: [
                'http://localhost:3000/v1/files/profile_photos/d1df88dc-62b6-4ba7-9a5f-9669be9040a3.JPEG',
            ],
            // fullImages: ['http://localhost:3000/v1/files/profile_photos/d1df88dc-62b6-4ba7-9a5f-9669be9040a3.JPEG'],
            initiator: 'ЖАЛАКУДУКСКИЙ РОВД',
            address: 'Туркистон кўчаси, Dehqon bozori',
            text: `Test xabar ${Math.random() * 100}. Time: ${new Date().toISOString()}`,
            mera: 'АРЕСТ',
            region: 'ОЛМАЛИК ШАҲРИ',
            statya: '139 ч.3 п.А;140 ч.1',
            rozType: 'МЕЖГОСУДАРСТВЕННЫЙ Р',
            sender: {
                firstName: 'MAMURAXON',
                lastName: 'ASADOVA',
                middleName: 'CHIRMASHEVNA',
                fullName: 'ASADOVA MAMURAXON CHIRMASHEVNA',
            },
            location: [40.84764631407434, 69.61757628864146],
            // fullImage: 'ivss_images/full_image_0ab1cece-d8bc-42ea-af6a-067206810dbd.jpg',
            // takenImage: 'ivss_images/taken_image_47fbc602-65ea-460a-bbd8-051c9df946f0.jpg',
            objectName: 'Дехқон бозори',
            wantedDate: new Date('07.31.2019').toISOString(),
        };
        if (random % 3 === 0) {
            wanted.user = null;
            wanted.type = 'car';
        }
        else {
            wanted.car = null;
        }
        message = {
            messageType: 'wanted',
            to: { chatType: 'private', chatId: chatId },
            wanted: wanted,
            text: null,
        };
    }
    yield messenger
        .sendMessage(message)
        .then((res) => {
        console.log(res, 'Success sended');
        return res.data;
    })
        .catch((err) => {
        var _a;
        console.log((_a = err.response) === null || _a === void 0 ? void 0 : _a.data, 'err');
    });
}), 1000);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZXhhbXBsZXMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUMxQixPQUFPLEVBQUUsRUFBRSxJQUFJLE1BQU0sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNwQywwQ0FBMEM7QUFDMUMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN4QyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBRXBDLE1BQU0sT0FBTyxHQUFHLHVCQUF1QixDQUFDO0FBQ3hDLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDckMsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQzNDLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBRXpCLE1BQU0sTUFBTSxHQUFHLDBCQUEwQixDQUFDLENBQUMsT0FBTztBQUVsRCx5Q0FBeUM7QUFDekMsNEJBQTRCO0FBRTVCLDRCQUE0QjtBQUM1Qiw0QkFBNEI7QUFDNUIsb0NBQW9DO0FBQ3BDLHlEQUF5RDtBQUN6RCxtQkFBbUI7QUFDbkIsNkVBQTZFO0FBQzdFLDZEQUE2RDtBQUM3RCx3RkFBd0Y7QUFDeEYsaUNBQWlDO0FBQ2pDLHNCQUFzQjtBQUN0QixLQUFLO0FBRUwsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDO0FBQ3hCLE1BQU0sT0FBTyxHQUFHLDBCQUEwQixDQUFDO0FBQzNDLE1BQU0sU0FBUyxHQUFHLFlBQVksQ0FBQztJQUM3QixPQUFPO0lBQ1AsTUFBTTtJQUNOLE9BQU87SUFDUCxjQUFjO1FBQ1osT0FBTyxVQUFVLENBQUM7SUFDcEIsQ0FBQztJQUNELEtBQUssRUFBRSxHQUdK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bSAnYXhpb3MnO1xyXG5pbXBvcnQgeyB2MSBhcyB1dWlkVjEgfSBmcm9tICd1dWlkJztcclxuLy8gaW1wb3J0IHsgRU5WIH0gZnJvbSAnLi4vY29tbW9uL2NvbmZpZyc7XHJcbmltcG9ydCB7IGdldE1lc3NlbmdlciB9IGZyb20gJy4uL2luZGV4JztcclxuaW1wb3J0IHsgbG9jYWxTdGcgfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5jb25zdCBiYXNlVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NzAwMCc7XHJcbmNvbnN0IGxvY2FsVWlkID0gbG9jYWxTdGcuZ2V0KCd1aWQnKTtcclxuY29uc3QgdWlkID0gbG9jYWxVaWQgPyBsb2NhbFVpZCA6IHV1aWRWMSgpO1xyXG5sb2NhbFN0Zy5zZXQoJ3VpZCcsIHVpZCk7XHJcblxyXG5jb25zdCBjaGF0SWQgPSAnNjZiOWE0ZWRmNWE1NjRjYWU2NDg5MmMzJzsgLy8gISBybVxyXG5cclxuLy8gbGV0IGxhbmd1YWdlR2V0dGVyID0gKCkgPT4gJ1V6LUxhdGluJztcclxuLy8gbGV0IGFwcFZlcnNpb24gPSAnMS4wLjAnO1xyXG5cclxuLy8gY29uc3QgcmVxdWlyZWRIZWFkZXJzID0ge1xyXG4vLyAgICd4LWRldmljZS10eXBlJzogJ3dlYicsXHJcbi8vICAgJ3gtZGV2aWNlLW1vZGVsJzogRU5WLmlzQnJvd3NlclxyXG4vLyAgICAgPyBgJHtuYXZpZ2F0b3IudXNlckFnZW50fSB8ICR7bmF2aWdhdG9yLnBsYXRmb3JtfWBcclxuLy8gICAgIDogRU5WLmlzTm9kZVxyXG4vLyAgICAgPyBgJHtwcm9jZXNzLnBsYXRmb3JtfSB8ICR7cHJvY2Vzcy5hcmNofSB8IE5vZGVqczogJHtwcm9jZXNzLnZlcnNpb259YFxyXG4vLyAgICAgOiAnVW5rbm93bicsIC8vIGR5bmFtaWNhbGx5IGZldGNoaW5nIGRldmljZSBtb2RlbCBpbmZvXHJcbi8vICAgJ3gtYXBwLWxhbmcnOiBsYW5ndWFnZUdldHRlcigpIHx8ICdVei1MYXRpbicsIC8vIGR5bmFtaWNhbGx5IGZldGNoaW5nIGxhbmd1YWdlIGluZm9cclxuLy8gICAneC1hcHAtdmVyc2lvbic6IGFwcFZlcnNpb24sXHJcbi8vICAgJ3gtYXBwLXVpZCc6IHVpZCxcclxuLy8gfTtcclxuXHJcbmNvbnN0IGFwaUtleSA9ICdxYWxxb24nO1xyXG5jb25zdCBhcGlIYXNoID0gJzY2YjM1NzZkOTE3NDI1YjI5YTNlMzY0NCc7XHJcbmNvbnN0IG1lc3NlbmdlciA9IGdldE1lc3Nlbmdlcih7XHJcbiAgYmFzZVVSTCxcclxuICBhcGlLZXksXHJcbiAgYXBpSGFzaCxcclxuICBsYW5ndWFnZUdldHRlcigpIHtcclxuICAgIHJldHVybiAnVXotTGF0aW4nO1xyXG4gIH0sXHJcbiAgdG9rZW46IGFzeW5jICgpOiBQcm9taXNlPHtcclxuICAgIGFjY2Vzczogc3RyaW5nO1xyXG4gICAgcmVmcmVzaDogc3RyaW5nO1xyXG4gIH0+ID0+IHtcclxuICAgIGNvbnN0IHRva2VuID1cclxuICAgICAgJ0JlYXJlciBleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKMWMyVnlJanA3SW1sa0lqb3lNREE1TENKMWMyVnlibUZ0WlNJNklsVnRZWEppWldzaUxDSm1kV3hzWDI1aGJXVWlPaUpCUzBKQlVrOVdJRlZOUVZJaUxDSndhRzl1WlY5dWRXMWlaWElpT2lJck9UazRPVFExTkRNME5UWTNJaXdpWjNKdmRYQWlPbnNpYVdRaU9qSXNJbTVoYldVaU9pSkJaRzFwYmlJc0ltRmpZMlZ6YzJWeklqcGJNMTE5TENKdmNtZGhibWw2WVhScGIyNWZhV1FpT201MWJHd3NJbk5sY25acFkyVnpJanBiZXlKcFpDSTZNaXdpYm1GdFpTSTZJbTUwWm1GalpTSXNJbk4wWVhSMWN5STZkSEoxWlgwc2V5SnBaQ0k2Tml3aWJtRnRaU0k2SW5oaGRHeHZkaUlzSW5OMFlYUjFjeUk2ZEhKMVpYMHNleUpwWkNJNk1UUXNJbTVoYldVaU9pSmxiV1ZvYlc5dUlpd2ljM1JoZEhWeklqcDBjblZsZlN4N0ltbGtJam94Tml3aWJtRnRaU0k2SW1GMWRHOHRkSEpoYm5Od2IzSjBJaXdpYzNSaGRIVnpJanAwY25WbGZTeDdJbWxrSWpveE9Dd2libUZ0WlNJNkltRmpZMmxrWlc1MGN5SXNJbk4wWVhSMWN5STZkSEoxWlgwc2V5SnBaQ0k2TWpBc0ltNWhiV1VpT2lKa2FHRWlMQ0p6ZEdGMGRYTWlPblJ5ZFdWOUxIc2lhV1FpT2pJeExDSnVZVzFsSWpvaVptOXliV0V4SWl3aWMzUmhkSFZ6SWpwMGNuVmxmU3g3SW1sa0lqb3lNaXdpYm1GdFpTSTZJbWwyYzNNdGJXRnVZV2RsY2lJc0luTjBZWFIxY3lJNmRISjFaWDBzZXlKcFpDSTZNamNzSW01aGJXVWlPaUp4ZFdsamF5MXpaV0Z5WTJnaUxDSnpkR0YwZFhNaU9uUnlkV1Y5TEhzaWFXUWlPakk1TENKdVlXMWxJam9pWTJGdFpYSmhJaXdpYzNSaGRIVnpJanAwY25WbGZTeDdJbWxrSWpvek1Dd2libUZ0WlNJNkltWjJkaUlzSW5OMFlYUjFjeUk2ZEhKMVpYMHNleUpwWkNJNk16RXNJbTVoYldVaU9pSm5jSE1pTENKemRHRjBkWE1pT25SeWRXVjlMSHNpYVdRaU9qTXlMQ0p1WVcxbElqb2ljMkY1Ykc5Mklpd2ljM1JoZEhWeklqcDBjblZsZlN4N0ltbGtJam96TkN3aWJtRnRaU0k2SW14cGMzUmxaQzF3Wlc5d2JHVWlMQ0p6ZEdGMGRYTWlPblJ5ZFdWOUxIc2lhV1FpT2pNMkxDSnVZVzFsSWpvaWRHRmtZbWx5SWl3aWMzUmhkSFZ6SWpwMGNuVmxmU3g3SW1sa0lqb3pPQ3dpYm1GdFpTSTZJbTEwY0NJc0luTjBZWFIxY3lJNmRISjFaWDBzZXlKcFpDSTZOREFzSW01aGJXVWlPaUpqY21sdFpTSXNJbk4wWVhSMWN5STZkSEoxWlgwc2V5SnBaQ0k2TkRFc0ltNWhiV1VpT2lKallYSWlMQ0p6ZEdGMGRYTWlPblJ5ZFdWOUxIc2lhV1FpT2pReUxDSnVZVzFsSWpvaWIzQm5JaXdpYzNSaGRIVnpJanAwY25WbGZTeDdJbWxrSWpvME15d2libUZ0WlNJNkltMXBZaUlzSW5OMFlYUjFjeUk2ZEhKMVpYMHNleUpwWkNJNk5EUXNJbTVoYldVaU9pSnpaWEoyYVdObElpd2ljM1JoZEhWeklqcDBjblZsZlN4N0ltbGtJam8wTlN3aWJtRnRaU0k2SW01dmRHbG1hV05oZEdsdmJuTWlMQ0p6ZEdGMGRYTWlPblJ5ZFdWOUxIc2lhV1FpT2pRMkxDSnVZVzFsSWpvaWRHVmxibUZuWlhKeklpd2ljM1JoZEhWeklqcDBjblZsZlN4N0ltbGtJam8wTnl3aWJtRnRaU0k2SW1KMWN5MXdZWEpyYVc1bklpd2ljM1JoZEhWeklqcDBjblZsZlN4N0ltbGtJam8wT0N3aWJtRnRaU0k2SW1SbGRHVmpkRzl5SWl3aWMzUmhkSFZ6SWpwMGNuVmxmU3g3SW1sa0lqbzBPU3dpYm1GdFpTSTZJbUZrWkMxallXMWxjbUVpTENKemRHRjBkWE1pT25SeWRXVjlMSHNpYVdRaU9qVXdMQ0p1WVcxbElqb2lhWFp6Y3kxamIyNTBjbTlzSWl3aWMzUmhkSFZ6SWpwMGNuVmxmU3g3SW1sa0lqbzFNU3dpYm1GdFpTSTZJalYwWVhOb1lXSmlkWE1pTENKemRHRjBkWE1pT25SeWRXVjlMSHNpYVdRaU9qVXlMQ0p1WVcxbElqb2liRzluWjJWeUlpd2ljM1JoZEhWeklqcDBjblZsZlN4N0ltbGtJam8xTXl3aWJtRnRaU0k2SW5OamJ5SXNJbk4wWVhSMWN5STZkSEoxWlgwc2V5SnBaQ0k2TlRRc0ltNWhiV1VpT2lKc1lXNW5kV0ZuWlNJc0luTjBZWFIxY3lJNmRISjFaWDBzZXlKcFpDSTZOVFVzSW01aGJXVWlPaUp6ZFhCbGNuWnBjMjl5SWl3aWMzUmhkSFZ6SWpwMGNuVmxmU3g3SW1sa0lqbzFOeXdpYm1GdFpTSTZJbTE1TFdsdWMzQmxZM1J2Y2lJc0luTjBZWFIxY3lJNmRISjFaWDBzZXlKcFpDSTZOVGtzSW01aGJXVWlPaUppYjJSNUxXTmhiV1Z5WVNJc0luTjBZWFIxY3lJNmRISjFaWDBzZXlKcFpDSTZOakFzSW01aGJXVWlPaUpsYldsbmNtRnVkQ0lzSW5OMFlYUjFjeUk2ZEhKMVpYMWRMQ0prYVhOMGNtbGpkRWxrSWpwdWRXeHNMQ0pvWVhOb0lqb2lNR1l4TlRoak5tRXpNVFE1WkdJeVpHWXpPRFU1WmpjeU5XUm1ZemxqWTJVaWZTd2lhV0YwSWpveE56SXpOak13TVRjekxDSmxlSEFpT2pFM01qTTNNVFkxTnpOOS5kY1VSQ3NOSFQybTdzc0NlMXh5eEZGZjZ5ZFhGZnQzcVNFazM3RmIyS0ZFJztcclxuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MuZ2V0KGAke2Jhc2VVUkx9L3YxL2F1dGgvbWUtZnJvbT90b2tlbj0ke3Rva2VufWAsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCYXNpYyAke2J0b2EoYCR7YXBpS2V5fToke2FwaUhhc2h9YCl9YCxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGFjY2VzczogZGF0YS5kYXRhLnRva2VuLmFjY2Vzc1Rva2VuLFxyXG4gICAgICByZWZyZXNoOiBkYXRhLmRhdGEudG9rZW4ucmVmcmVzaFRva2VuLFxyXG4gICAgfTtcclxuICAgIC8vIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLnBvc3QoXHJcbiAgICAvLyAgIGAke2Jhc2VVUkx9L3YxL2F1dGgvbG9naW5gLFxyXG4gICAgLy8gICB7XHJcbiAgICAvLyAgICAgdXNlcm5hbWU6ICdVbWFya2hhbicsIC8vIEFkaGFtam9uLCBVbWFya2hhblxyXG4gICAgLy8gICAgIHBhc3N3b3JkOiAnMTIzJyxcclxuICAgIC8vICAgfSxcclxuICAgIC8vICAge1xyXG4gICAgLy8gICAgIGhlYWRlcnM6IHJlcXVpcmVkSGVhZGVycyxcclxuICAgIC8vICAgfSxcclxuICAgIC8vICk7XHJcblxyXG4gICAgLy8gcmV0dXJuIHtcclxuICAgIC8vICAgYWNjZXNzOiByZXMuZGF0YS5kYXRhLnRva2VuLmFjY2Vzc1Rva2VuLFxyXG4gICAgLy8gICByZWZyZXNoOiByZXMuZGF0YS5kYXRhLnRva2VuLnJlZnJlc2hUb2tlbixcclxuICAgIC8vIH07XHJcbiAgfSxcclxuICBwb2xsaW5nOiB7IGludGVydmFsOiA1XzAwMCwgbGltaXQ6IDEwMCB9LFxyXG59KTtcclxuXHJcbmNvbnNvbGUubG9nKCdTdWNjZXNzIHN0YXJ0ZWQnKTtcclxuXHJcbm1lc3NlbmdlclxyXG4gIC5vbignY29ubmVjdCcsICguLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnY29ubmVjdGVkJywgYXJncyk7XHJcbiAgfSlcclxuICAub24oJ3JlY29ubmVjdF9hdHRlbXB0JywgKC4uLmFyZ3MpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdyZWNvbm5lY3RfYXR0ZW1wdCcsIGFyZ3MpO1xyXG4gIH0pXHJcbiAgLm9uKCdyZWNvbm5lY3QnLCAoLi4uYXJncykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ3JlY29ubmVjdCcsIGFyZ3MpO1xyXG4gIH0pXHJcbiAgLm9uKCdkaXNjb25uZWN0JywgKHJlYXNvbiwgZGV0YWlscykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ2Rpc2Nvbm5lY3QnLCByZWFzb24pO1xyXG4gIH0pXHJcbiAgLm9uKCdwb25nJywgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ3BvbmcnKTtcclxuICB9KVxyXG4gIC5vbigndXBkYXRlJywgKGRhdGE6IE1lc3Nlbmdlci5JT25VcGRhdGUpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGRhdGEuX2lkLCAndXBkYXRlJyk7XHJcbiAgfSlcclxuICAub24oJ2NoYXRBY3Rpb24nLCAoYWN0aW9uKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhhY3Rpb24sICdjaGF0QWN0aW9uJyk7XHJcbiAgfSk7XHJcblxyXG5jb25zdCBnZXRSYWRvbU51bWJlciA9IChmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIpID0+IGZyb20gKyBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAodG8gLSBmcm9tKSk7XHJcblxyXG5zZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XHJcbiAgbGV0IG1lc3NhZ2U6IEFwaU1lc3NhZ2VNYW5hZ2VtZW50LklTZW5kTWVzc2FnZTtcclxuICBjb25zdCByYW5kb20gPSBnZXRSYWRvbU51bWJlcigwLCAxMDApO1xyXG4gIC8vIGNvbnN0IHJhbmRvbSA9IDM7XHJcbiAgaWYgKHJhbmRvbSAlIDIgPT09IDApIHtcclxuICAgIG1lc3NhZ2UgPSB7XHJcbiAgICAgIG1lc3NhZ2VUeXBlOiAndGV4dCcsXHJcbiAgICAgIHRvOiB7IGNoYXRUeXBlOiAncHJpdmF0ZScsIGNoYXRJZDogY2hhdElkIH0sXHJcbiAgICAgIHRleHQ6IGBUZXN0IHhhYmFyICR7TWF0aC5yYW5kb20oKSAqIDEwMH0uIFRpbWU6ICR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfWAsXHJcbiAgICB9O1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCB3YW50ZWQ6IEFwaU1lc3NhZ2VNYW5hZ2VtZW50LklDaGF0TWVzc2FnZVdhbnRlZCA9IHtcclxuICAgICAgdHlwZTogJ3VzZXInLFxyXG4gICAgICB0aXRsZTogJ01WRC1RaWRpcnV2JyxcclxuICAgICAgdXNlcjoge1xyXG4gICAgICAgIGZpcnN0TmFtZTogJ1F1bXJpbmlzbycsXHJcbiAgICAgICAgaW1hZ2U6XHJcbiAgICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAwL3YxL2ZpbGVzL3Byb2ZpbGVfcGhvdG9zL2QxZGY4OGRjLTYyYjYtNGJhNy05YTVmLTk2NjliZTkwNDBhMy5KUEVHJyxcclxuICAgICAgICAvLyBmdWxsSW1hZ2U6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvdjEvZmlsZXMvcHJvZmlsZV9waG90b3MvZDFkZjg4ZGMtNjJiNi00YmE3LTlhNWYtOTY2OWJlOTA0MGEzLkpQRUcnLFxyXG4gICAgICAgIGxhc3ROYW1lOiAnUWFtYmFyb3YnLFxyXG4gICAgICAgIG1pZGRsZU5hbWU6ICdRdWxtaWRkaW4gcWl6aScsXHJcbiAgICAgICAgZnVsbE5hbWU6ICdRYW1iYXJvdiBRdW1yaW5pc28gUXVsbWlkZGluIHFpemknLFxyXG4gICAgICAgIHBBZGRyZXNzOiAnUWFzaHFhZGFyeW8gVmlsb3lhdCwgS2l0b2IgVHVtYW4sIFFhc2hxaXIgcWlzaGxvcScsXHJcbiAgICAgICAgcGFzc3BvcnQ6ICdBQTg0MzI3MjAnLFxyXG4gICAgICAgIGJpcnRoRGF0ZTogJzE5LjA1LjE5ODEnLFxyXG4gICAgICB9LFxyXG4gICAgICBjYXI6IHtcclxuICAgICAgICBjYXJJbWFnZTpcclxuICAgICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAvdjEvZmlsZXMvcHJvZmlsZV9waG90b3MvZDFkZjg4ZGMtNjJiNi00YmE3LTlhNWYtOTY2OWJlOTA0MGEzLkpQRUcnLFxyXG4gICAgICAgIGNhck51bWJlcjogJzAxTzAxME9PJyxcclxuICAgICAgfSxcclxuICAgICAgaW1hZ2VzOiBbXHJcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC92MS9maWxlcy9wcm9maWxlX3Bob3Rvcy9kMWRmODhkYy02MmI2LTRiYTctOWE1Zi05NjY5YmU5MDQwYTMuSlBFRycsXHJcbiAgICAgIF0sXHJcbiAgICAgIC8vIGZ1bGxJbWFnZXM6IFsnaHR0cDovL2xvY2FsaG9zdDozMDAwL3YxL2ZpbGVzL3Byb2ZpbGVfcGhvdG9zL2QxZGY4OGRjLTYyYjYtNGJhNy05YTVmLTk2NjliZTkwNDBhMy5KUEVHJ10sXHJcbiAgICAgIGluaXRpYXRvcjogJ9CW0JDQm9CQ0JrQo9CU0KPQmtCh0JrQmNCZINCg0J7QktCUJyxcclxuICAgICAgYWRkcmVzczogJ9Ci0YPRgNC60LjRgdGC0L7QvSDQutGe0YfQsNGB0LgsIERlaHFvbiBib3pvcmknLFxyXG4gICAgICB0ZXh0OiBgVGVzdCB4YWJhciAke01hdGgucmFuZG9tKCkgKiAxMDB9LiBUaW1lOiAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1gLFxyXG5cclxuICAgICAgbWVyYTogJ9CQ0KDQldCh0KInLFxyXG4gICAgICByZWdpb246ICfQntCb0JzQkNCb0JjQmiDQqNCQ0rLQoNCYJyxcclxuICAgICAgc3RhdHlhOiAnMTM5INGHLjMg0L8u0JA7MTQwINGHLjEnLFxyXG4gICAgICByb3pUeXBlOiAn0JzQldCW0JPQntCh0KPQlNCQ0KDQodCi0JLQldCd0J3Qq9CZINCgJyxcclxuICAgICAgc2VuZGVyOiB7XHJcbiAgICAgICAgZmlyc3ROYW1lOiAnTUFNVVJBWE9OJyxcclxuICAgICAgICBsYXN0TmFtZTogJ0FTQURPVkEnLFxyXG4gICAgICAgIG1pZGRsZU5hbWU6ICdDSElSTUFTSEVWTkEnLFxyXG4gICAgICAgIGZ1bGxOYW1lOiAnQVNBRE9WQSBNQU1VUkFYT04gQ0hJUk1BU0hFVk5BJyxcclxuICAgICAgfSxcclxuICAgICAgbG9jYXRpb246IFs0MC44NDc2NDYzMTQwNzQzNCwgNjkuNjE3NTc2Mjg4NjQxNDZdLFxyXG4gICAgICAvLyBmdWxsSW1hZ2U6ICdpdnNzX2ltYWdlcy9mdWxsX2ltYWdlXzBhYjFjZWNlLWQ4YmMtNDJlYS1hZjZhLTA2NzIwNjgxMGRiZC5qcGcnLFxyXG4gICAgICAvLyB0YWtlbkltYWdlOiAnaXZzc19pbWFnZXMvdGFrZW5faW1hZ2VfNDdmYmM2MDItNjVlYS00NjBhLWJiZDgtMDUxYzlkZjk0NmYwLmpwZycsXHJcbiAgICAgIG9iamVjdE5hbWU6ICfQlNC10YXSm9C+0L0g0LHQvtC30L7RgNC4JyxcclxuICAgICAgd2FudGVkRGF0ZTogbmV3IERhdGUoJzA3LjMxLjIwMTknKS50b0lTT1N0cmluZygpLFxyXG4gICAgfTtcclxuICAgIGlmIChyYW5kb20gJSAzID09PSAwKSB7XHJcbiAgICAgIHdhbnRlZC51c2VyID0gbnVsbDtcclxuICAgICAgd2FudGVkLnR5cGUgPSAnY2FyJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHdhbnRlZC5jYXIgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIG1lc3NhZ2UgPSB7XHJcbiAgICAgIG1lc3NhZ2VUeXBlOiAnd2FudGVkJyxcclxuICAgICAgdG86IHsgY2hhdFR5cGU6ICdwcml2YXRlJywgY2hhdElkOiBjaGF0SWQgfSxcclxuICAgICAgd2FudGVkOiB3YW50ZWQsXHJcbiAgICAgIHRleHQ6IG51bGwsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgYXdhaXQgbWVzc2VuZ2VyXHJcbiAgICAuc2VuZE1lc3NhZ2UobWVzc2FnZSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgY29uc29sZS5sb2cocmVzLCAnU3VjY2VzcyBzZW5kZWQnKTtcclxuICAgICAgcmV0dXJuIHJlcy5kYXRhO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZT8uZGF0YSwgJ2VycicpO1xyXG4gICAgfSk7XHJcbn0sIDFfMDAwKTtcclxuIl19