import { decrypt, encrypt } from '../crypto';
function createSessionStorage() {
    function set(key, value) {
        sessionStorage.setItem(key, encrypt(value));
    }
    function get(key) {
        const json = sessionStorage.getItem(key);
        let data = null;
        if (json) {
            try {
                data = decrypt(json);
            }
            catch (_a) {
                // Prevent parsing failure
            }
        }
        return data;
    }
    function remove(key) {
        window.sessionStorage.removeItem(key);
    }
    function clear() {
        window.sessionStorage.clear();
    }
    return {
        set,
        get,
        remove,
        clear,
    };
}
export const sessionStg = createSessionStorage();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Vzc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy91dGlscy9zdG9yYWdlL3Nlc3Npb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFFN0MsU0FBUyxvQkFBb0I7SUFDM0IsU0FBUyxHQUFHLENBQW9CLEdBQU0sRUFBRSxLQUFXO1FBQ2pELGNBQWMsQ0FBQyxPQUFPLENBQUMsR0FBYSxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFFRCxTQUFTLEdBQUcsQ0FBb0IsR0FBTTtRQUNwQyxNQUFNLElBQUksR0FBRyxjQUFjLENBQUMsT0FBTyxDQUFDLEdBQWEsQ0FBQyxDQUFDO1FBQ25ELElBQUksSUFBSSxHQUFnQixJQUFJLENBQUM7UUFDN0IsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNULElBQUksQ0FBQztnQkFDSCxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3ZCLENBQUM7WUFBQyxXQUFNLENBQUM7Z0JBQ1AsMEJBQTBCO1lBQzVCLENBQUM7UUFDSCxDQUFDO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsU0FBUyxNQUFNLENBQUMsR0FBWTtRQUMxQixNQUFNLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxHQUFhLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRUQsU0FBUyxLQUFLO1FBQ1osTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNoQyxDQUFDO0lBRUQsT0FBTztRQUNMLEdBQUc7UUFDSCxHQUFHO1FBQ0gsTUFBTTtRQUNOLEtBQUs7S0FDTixDQUFDO0FBQ0osQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxvQkFBb0IsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVjcnlwdCwgZW5jcnlwdCB9IGZyb20gJy4uL2NyeXB0byc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVNlc3Npb25TdG9yYWdlPFQgZXh0ZW5kcyBXaW5kb3dTZXNzaW9uU3RvcmFnZSA9IFdpbmRvd1Nlc3Npb25TdG9yYWdlPigpIHtcbiAgZnVuY3Rpb24gc2V0PEsgZXh0ZW5kcyBrZXlvZiBUPihrZXk6IEssIHZhbHVlOiBUW0tdKSB7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShrZXkgYXMgc3RyaW5nLCBlbmNyeXB0KHZhbHVlKSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXQ8SyBleHRlbmRzIGtleW9mIFQ+KGtleTogSykge1xuICAgIGNvbnN0IGpzb24gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleSBhcyBzdHJpbmcpO1xuICAgIGxldCBkYXRhOiBUW0tdIHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKGpzb24pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBkZWNyeXB0KGpzb24pO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIFByZXZlbnQgcGFyc2luZyBmYWlsdXJlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlKGtleToga2V5b2YgVCkge1xuICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGtleSBhcyBzdHJpbmcpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgd2luZG93LnNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNldCxcbiAgICBnZXQsXG4gICAgcmVtb3ZlLFxuICAgIGNsZWFyLFxuICB9O1xufVxuXG5leHBvcnQgY29uc3Qgc2Vzc2lvblN0ZyA9IGNyZWF0ZVNlc3Npb25TdG9yYWdlKCk7XG4iXX0=